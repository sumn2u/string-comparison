<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jaroWinkler.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: jaroWinkler.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Class representing Jaro-Winkler similarity calculations.
 * @class
 */
class JaroWrinker {
    /**
     * Calculates the Jaro-Winkler similarity between two strings.
     *
     * @param {string} s1 - The first string for comparison.
     * @param {string} s2 - The second string for comparison.
     * @returns {float} - The Jaro-Winkler similarity score between s1 and s2, ranging from 0.0 (no similarity) to 1.0 (exact match).
     */
    static similarity(s1, s2) {
        let m = 0; // Number of matching characters

        // Exit early if either string is empty
        if (s1.length === 0 || s2.length === 0) {
            return 0;
        }

        // Exit early if the strings are an exact match
        if (s1 === s2) {
            return 1;
        }

        const range = Math.floor(Math.max(s1.length, s2.length) / 2) - 1; // Search window size based on string lengths
        const s1Matches = new Array(s1.length).fill(false); // Keeps track of matched characters in s1
        const s2Matches = new Array(s2.length).fill(false); // Keeps track of matched characters in s2

        // Find matching characters within a search window around each character in s1
        for (let i = 0; i &lt; s1.length; i++) {
            const low = (i >= range) ? i - range : 0; // Lower bound of search window for s2
            const high = (i + range &lt;= s2.length) ? (i + range) : (s2.length - 1); // Upper bound of search window for s2

            for (let j = low; j &lt;= high; j++) {
                if (!s1Matches[i] &amp;&amp; !s2Matches[j] &amp;&amp; s1[i] === s2[j]) { // Match found, characters not previously matched
                    m++;
                    s1Matches[i] = true;
                    s2Matches[j] = true;
                    break;
                }
            }
        }

        // Exit early if no matches were found
        if (m === 0) {
            return 0;
        }

        // Count transpositions (mismatches where character order is swapped)
        let k = 0; // Index in s2 to start searching for matches for the next character in s1
        let n_trans = 0; // Number of transpositions

        for (let i = 0; i &lt; s1.length; i++) {
            if (s1Matches[i]) {
                let j;
                for (j = k; j &lt; s2.length; j++) { // Find the corresponding match in s2
                    if (s2Matches[j]) {
                        k = j + 1; // Update starting index for next character in s1
                        break;
                    }
                }

                if (s1[i] !== s2[j]) { // Characters don't match, potential transposition
                    n_trans++;
                }
            }
        }

        // Calculate Jaro similarity score based on matching characters, transpositions, and string lengths
        let weight = (m / s1.length + m / s2.length + (m - (n_trans / 2)) / m) / 3;

        // Apply length bonus for strings with common prefixes
        let l = 0;
        const p = 0.1; // Constant for length bonus weight

        if (weight > 0.7) {
            while (s1[l] === s2[l] &amp;&amp; l &lt; 4) { // Check for matching prefixes up to length 4
                l++;
            }

            weight = weight + l * p * (1 - weight); // Apply length bonus to the similarity score
        }

        return weight;
    }
}

export default JaroWrinker;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Cosine.html">Cosine</a></li><li><a href="DamerauLevenshtein.html">DamerauLevenshtein</a></li><li><a href="HammingDistance.html">HammingDistance</a></li><li><a href="Jaccard.html">Jaccard</a></li><li><a href="Jaro.html">Jaro</a></li><li><a href="JaroWrinker.html">JaroWrinker</a></li><li><a href="Levenshtein.html">Levenshtein</a></li><li><a href="SmithWaterman.html">SmithWaterman</a></li><li><a href="SorensenDice.html">SorensenDice</a></li><li><a href="Trigram.html">Trigram</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Apr 07 2024 17:37:13 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
